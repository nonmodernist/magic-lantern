<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Lantern - Research Automation Toolkit</title>
    <link rel="stylesheet" href="../../shared/classless.css">
</head>
<body>
    <header>
        <aside>
            Vol. 5.‚ÄîNo. 0.2.<br>
            SUMMER, 2025.
        </aside>
        <h1>‚ú® MAGIC LANTERN ‚ú®</h1>
        <p>A Digital Research Toolkit for the Media History Digital Library</p>
    </header>

    <nav>
        <a href="../home/index.html" aria-current="page">üîç Search</a>
        <a href="../search-results/index.html">üìä Results</a>
        <a href="../profile-selector/index.html">‚öôÔ∏è Profiles</a>
        <a href="../about/index.html">üìñ About</a>
    </nav>

    <main>
        <aside role="note">
            <strong>Greetings, esteemed researcher!</strong> Magic Lantern
            transforms weeks of manual searching into hours of automated
            discovery across historical film trade publications. Simply
            provide your films of interest and watch as the apparatus
            generates dozens of intelligent search queries, fetches the
            finest results, and presents them in order of relevance.
        </aside>

        <!-- Welcome Wizard -->
        <article id="welcome-wizard" hidden>
            <h2>‚ú® What brings you to the archives today?</h2>
            <p>Choose a research profile to optimize your searches</p>

            <div data-grid="cards">
                <div onclick="selectResearchProfile('adaptation-studies')">
                    <figure>üìö</figure>
                    <h3>Literary Adaptations</h3>
                    <p>I'm tracking how novels became films</p>
                    <ul>
                        <li>Author name searches</li>
                        <li>Source material mentions</li>
                        <li>"Based on" references</li>
                        <li>Publisher advertisements</li>
                    </ul>
                    <footer>Best for: Book-to-film research</footer>
                </div>

                <div onclick="selectResearchProfile('labor-history')">
                    <figure>‚öíÔ∏è</figure>
                    <h3>Labor & Production</h3>
                    <p>I'm studying strikes and working conditions</p>
                    <ul>
                        <li>Union coverage</li>
                        <li>Strike reports</li>
                        <li>Production delays</li>
                        <li>Labor disputes</li>
                    </ul>
                    <footer>Best for: Industrial relations</footer>
                </div>

                <div onclick="selectResearchProfile('regional-reception')">
                    <figure>üåé</figure>
                    <h3>Exhibition & Reception</h3>
                    <p>I'm exploring how films played nationally</p>
                    <ul>
                        <li>Box office reports</li>
                        <li>Regional publications</li>
                        <li>Small-town coverage</li>
                        <li>Exhibition patterns</li>
                    </ul>
                    <footer>Best for: Reception studies</footer>
                </div>
            </div>

            <menu type="toolbar">
                <button onclick="showAdvancedProfiles()">
                    View all profiles ‚Üí
                </button>
                <button onclick="skipWizard()">
                    I know what I'm doing ‚Üí
                </button>
            </menu>
        </article>

        <!-- File Selection Section -->
        <article>
            <h2>
                <data value="1">1</data>
                SELECT YOUR FILMS
            </h2>
            
            <section>
                <label for="file-input">Film Catalogue (CSV Format)</label>
                <p><small>üìù CSV should have columns: title, year, author, director, studio</small></p>
                
                <menu type="toolbar">
                    <button id="select-file-btn" data-variant="primary">Choose CSV File</button>
                    <button onclick="generateSampleCSV()">üìÑ Download Sample CSV</button>
                </menu>
                
                <aside id="file-info" hidden>
                    <p><strong>Selected File:</strong> <span id="file-name"></span></p>
                    <p><strong>Films found:</strong> <span id="film-count"></span></p>
                    <pre id="preview-content"></pre>
                </aside>
            </section>
        </article>

        <!-- Configuration Section -->
        <article id="config-section" hidden>
            <h2>
                <data value="2">2</data>
                CONFIGURE YOUR SEARCH
            </h2>

            <section>
                <h3>Corpus Size <abbr title="How many films to process and how deeply to search each one">?</abbr></h3>
                <select id="corpus-select">
                    <option value="test" selected>Test (1 film, quick demonstration)</option>
                    <option value="single">Single (1 film, comprehensive)</option>
                    <option value="medium">Medium (20 films, balanced)</option>
                    <option value="full">Full (all films, exhaustive)</option>
                </select>
                <p><small>üí° New users: Start with "Test" mode</small></p>
            </section>

            <section>
                <h3>Research Profile <abbr title="Profiles customize which searches run and how results are scored">?</abbr></h3>
                <select id="profile-select">
                    <option value="default">Default</option>
                    <option value="adaptation-studies">Adaptation Studies</option>
                    <option value="labor-history">Labor History</option>
                    <option value="early-cinema">Early Cinema (1905-1920)</option>
                    <option value="regional-reception">Regional Reception</option>
                </select>
                <p id="profile-description"><small>Standard Magic Lantern configuration</small></p>
            </section>

            <aside id="search-summary" hidden></aside>

            <hr>

            <footer>
                <button id="run-search-btn" data-variant="primary">
                    Start Search
                </button>
            </footer>
        </article>

        <!-- Progress Section -->
        <article id="progress-section" hidden>
            <h2>
                <data value="3">3</data>
                SEARCH PROGRESS
            </h2>
            
            <aside role="note">
                <strong>üïê While you wait:</strong> Magic Lantern is running
                several searches per film. A coffee break is encouraged! 
                Results are automatically saved.
            </aside>
            
            <section>
                <progress id="progress-fill" max="100" value="0"></progress>
                <p id="progress-text">Initializing...</p>
                <pre id="progress-details"></pre>
            </section>
            
            <footer>
                <button id="cancel-btn">Cancel</button>
            </footer>
        </article>
    </main>

    <script src="script.js"></script>
    <script>
        // Profile descriptions
        const profileDescriptions = {
            'default': 'Standard Magic Lantern configuration',
            'adaptation-studies': 'Emphasizes author attribution and source materials',
            'labor-history': 'Focuses on strikes, unions, and working conditions',
            'early-cinema': 'Optimized for silent era research (1905-1920)',
            'regional-reception': 'Studies how films played outside major cities'
        };

        // Update profile description when selection changes
        document.getElementById('profile-select').addEventListener('change', function() {
            const description = profileDescriptions[this.value] || 'Custom profile';
            document.getElementById('profile-description').innerHTML = 
                `<small>${description}</small>`;
        });
    </script>
</body>
</html>