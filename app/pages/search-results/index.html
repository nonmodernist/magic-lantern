<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Lantern - Search Results</title>
    <link rel="stylesheet" href="../../shared/classless.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <aside>
            Vol. 5.‚ÄîNo. 0.2.<br>
            SUMMER, 2025.</aside>
        <h1>MAGIC LANTERN</h1>
        <p>Comprehensive Search Results</p>
    </header>


    <nav>
        <a href="../home/index.html">üîç Search</a>
        <a href="../search-results/index.html" aria-current="page">üìä Results</a>
        <a href="../profile-selector/index.html">‚öôÔ∏è Profiles</a>
        <a href="../about/index.html">üìñ About</a>
    </nav>

    <div id="results-layout">
        <aside id="results-tools">
            <!-- Current Session Info -->
            <section id="session-info">
                <h3>Current Results</h3>
                <div id="results-meta">
                    <time id="results-timestamp"></time>
                    <small id="profile-used">Profile:
                        <output>Default</output></small>
                </div>
                <button onclick="loadResultsFile()">üìÇ Load Different
                    Results</button>
                <div id="loaded-file-info" hidden>
                    <small>File: <output id="loaded-filename"></output></small>
                </div>
            </section>

            <!-- Quick Stats -->
            <section id="quick-stats">
                <h3>Quick Stats</h3>
                <dl>
                    <div>
                        <dt>Films</dt>
                        <dd id="films-count">0</dd>
                    </div>
                    <div>
                        <dt>Sources</dt>
                        <dd id="sources-count">0</dd>
                    </div>
                    <div>
                        <dt>Selected</dt>
                        <dd id="selected-count">0</dd>
                    </div>
                </dl>
            </section>

            <!-- Selection Tools -->
            <section id="selection-tools">
                <h3>Selection</h3>
                <button onclick="selectAll()" id="select-all-btn">
                    <span>‚òë</span> Select All
                </button>
                <button onclick="clearAll()" id="clear-all-btn" hidden>
                    <span>‚òê</span> Clear All
                </button>
                <button onclick="selectHighScores()">
                    <span>‚≠ê</span> Select High Scores (80+)
                </button>
                <button onclick="selectByPublication()">
                    <span>üì∞</span> Select by Publication...
                </button>
            </section>

            <!-- Export Tools -->
            <section id="export-tools">
                <h3>Export</h3>
                <button onclick="exportSelected()" id="export-selected-btn"
                    disabled>
                    <span>‚Üì</span> Export Selected (<output>0</output>)
                </button>
                <button onclick="exportAll()">
                    <span>üíæ</span> Export All Results
                </button>
                <button onclick="exportFilmSummary()">
                    <span>üìã</span> Export Film Summary
                </button>
                <hr>
                <button onclick="copyAsCSV()">
                    <span>üìä</span> Copy as CSV
                </button>
                <button onclick="generateBibliography()">
                    <span>üìö</span> Generate Bibliography
                </button>
            </section>

            <!-- View Controls -->
            <section id="view-controls">
                <h3>Display Options</h3>
                <label>
                    <input type="checkbox" checked
                        onchange="toggleExcerpts(this)">
                    Show excerpts
                </label>
                <label>
                    <input type="checkbox" onchange="toggleStrategies(this)">
                    Show search strategies
                </label>
                <label>
                    <input type="checkbox" onchange="toggleLowScores(this)">
                    Hide low scores (&lt;50)
                </label>
                <div>
                    <label for="sources-limit">Sources per film:</label>
                    <input type="range" id="sources-limit" min="5" max="50"
                        value="10" step="5" oninput="updateSourcesLimit(this)">
                    <output>10</output>
                </div>
            </section>

            <!-- Film Jump List -->
            <section id="jump-list">
                <h3>Jump to Film</h3>
                <select size="5" onchange="jumpToFilm(this.value)">
                    <!-- Populated by JS -->
                </select>
            </section>

            <!-- Back to Top -->
            <a href="#top" id="back-to-top">
                <span>‚Üë</span> Back to Top
            </a>
        </aside>

        <main>
            <!-- Summary Cards -->
            <section id="summary">
                <h2>Search Summary</h2>
                <div id="summary-cards">
                    <!-- More detailed cards here -->
                </div>
            </section>

            <!-- Film Results -->
            <div id="film-results-container">
                <!-- Results here -->
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>